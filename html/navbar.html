<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Kalayatra Navbar</title>
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <link rel="stylesheet" href="../css/navbar.css" />
    <link rel="stylesheet" href="../css/demosearch.css" />
    <link rel="stylesheet" href="../css/componentsearch.css" />
    <link
      href="http://fonts.googleapis.com/css?family=Raleway:100,700,800"
      rel="stylesheet"
      type="text/css"
    />
    <script type="module">
  // Import the functions you need from the SDKs you need
  import { initializeApp } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-app.js";
  import { getAnalytics } from "https://www.gstatic.com/firebasejs/12.0.0/firebase-analytics.js";
  // TODO: Add SDKs for Firebase products that you want to use
  // https://firebase.google.com/docs/web/setup#available-libraries

  // Your web app's Firebase configuration
  // For Firebase JS SDK v7.20.0 and later, measurementId is optional
  const firebaseConfig = {
    apiKey: "AIzaSyDzCPsjpe57hLqkzaReqUtEkeEZcqTgJlU",
    authDomain: "kalayatra-57da8.firebaseapp.com",
    projectId: "kalayatra-57da8",
    storageBucket: "kalayatra-57da8.firebasestorage.app",
    messagingSenderId: "30436098155",
    appId: "1:30436098155:web:51324588a0e473cef3312e",
    measurementId: "G-0YT4RR4353"
  };

  // Initialize Firebase
  const app = initializeApp(firebaseConfig);
  const analytics = getAnalytics(app);
</script>
<script type="module">
  import { getAuth, onAuthStateChanged, signOut } from "https://www.gstatic.com/firebasejs/10.5.2/firebase-auth.js";

const auth = getAuth();

// function updateAuthSection(user) {
//   const authSection = document.getElementById("auth-section");

//   if (!authSection) return;

//   if (user) {
//     // User is signed in, show Profile + Logout
//     authSection.innerHTML = `
//       <button id="profile-btn" class="auth-btn">Profile</button>
//       <button id="logout-btn" class="auth-btn">Logout</button>
//     `;

//     document.getElementById("profile-btn").addEventListener("click", () => {
//       window.location.href = "/html/profile.html";
//     });

//     document.getElementById("logout-btn").addEventListener("click", () => {
//       signOut(auth).then(() => {
//         window.location.reload();
//       });
//     });

//   } else {
//     // No user signed in, show Login
//     authSection.innerHTML = `
//       <button id="login-btn" class="auth-btn">Login</button>
//     `;

//     document.getElementById("login-btn").addEventListener("click", () => {
//       window.location.href = "/html/Login.html";
//     });
//   }
// }

// onAuthStateChanged(auth, updateAuthSection);

  </script>
  </head>
  <body>
    <!-- Navbar reusable component -->
    <nav id="main-navbar">
      <div id="logo">
        <img src="../assets/logo/logopic.png" alt="Kalayatra" id="logo-img" />
        <p
          id="logo-text"
          class="tricolor-text"
          style="
            font-family: Samarkan, cursive;
            font-size: 2.3rem;
            font-weight: 700;
            letter-spacing: 0.01em;
            text-transform: uppercase;
            margin: 0;
            display: flex;
            align-items: center;
          "
        >
          Kalayatra
        </p>
      </div>
      <div id="navbar-items">
        <ul id="nav-links">
          <li>
            <a href="/index.html" id="nav-home"
              ><i class="fas fa-home"></i> HOME</a
            >
          </li>
          <li>
            <a href="/canvas/canvasmain.html" id="nav-canvas"
              ><i class="fas fa-brush"></i> Canvas</a
            >
          </li>
          <li>
            <a href="/html/about_us.html" id="nav-about"
              ><i class="fas fa-users"></i> About Us</a
            >
          </li>
          <li>
            <a href="/html/shop.html" id="nav-shop"
              ><i class="fas fa-store"></i> Shop</a
            >
          </li>
        </ul>
      </div>
      <div class="container-search" style="margin-left: 2em">
        <div id="morphsearch" class="morphsearch">
          <form class="morphsearch-form" id="navbar-search-form">
            <input
              class="morphsearch-input"
              type="search"
              placeholder="Search..."
              id="navbar-search-input"
            />
            <button class="morphsearch-submit" type="submit">Search</button>
          </form>
          <div class="morphsearch-content">
            <div class="dummy-column">
              <h2>Popular Search</h2>
              <a
                class="dummy-media-object search-link"
                data-search="Handicrafts"
                href="../html/searchresult.html"
              >
                <img
                  class="round"
                  src="../Images/Handicrafts/0004.avif"
                  alt="Handicrafts"
                />
                <h3>Handicrafts</h3>
              </a>
              <a
                class="dummy-media-object search-link"
                data-search="Oral Traditions"
                href="../html/searchresult.html"
              >
                <img
                  class="round"
                  src="../Images/Oral traditions and Storytelling/0024.webp"
                  alt="Oral Traditions and Storytelling"
                />
                <h3>Oral Traditions</h3>
              </a>
            </div>
            <div class="dummy-column">
              <h2>Past Search</h2>
              <a
                class="dummy-media-object search-link"
                data-search="Handicrafts"
                href="../html/searchresult.html"
              >
                <img
                  class="round"
                  src="../Images/Handicrafts/0004.avif"
                  alt="Handicrafts"
                />
                <h3>Handicrafts</h3>
              </a>
              <a
                class="dummy-media-object search-link"
                data-search="Oral Traditions"
                href="../html/searchresult.html"
              >
                <img
                  class="round"
                  src="../Images/Oral traditions and Storytelling/0024.webp"
                  alt="Oral Traditions and Storytelling"
                />
                <h3>Oral Traditions</h3>
              </a>
            </div>
            <div class="dummy-column">
              <h2>Suggestions</h2>
              <a
                class="dummy-media-object search-link"
                data-search="Handicrafts"
                href="../html/searchresult.html"
              >
                <img
                  class="round"
                  src="../Images/Handicrafts/0004.avif"
                  alt="Handicrafts"
                />
                <h3>Handicrafts</h3>
              </a>
              <a
                class="dummy-media-object search-link"
                data-search="Oral Traditions"
                href="../html/searchresult.html"
              >
                <img
                  class="round"
                  src="../Images/Oral traditions and Storytelling/0024.webp"
                  alt="Oral Traditions and Storytelling"
                />
                <h3>Oral Traditions</h3>
              </a>
            </div>
          </div>
          <span class="morphsearch-close"></span>
        </div>
      </div>
     <!-- Place this where you want the login/profile/logout to appear -->
<div id="auth-section">
  <button id="profile-btn" class="auth-btn" onclick="window.location.href='/html/profile.html'">Profile</button>
</div>

    </nav>
    <!-- Mobile Bottom Navbar -->
    <nav id="mobile-bottom-navbar">
      <ul>
        <li id="mobile-home">
          <a href="/index.html"><i class="fas fa-home"></i><span>HOME</span></a>
        </li>
        <li id="mobile-canvas">
          <a href="../canvas/canvasmain.html"
            ><i class="fas fa-brush"></i><span>CANVAS</span></a
          >
        </li>
        <li id="mobile-shop">
          <a href="/html/shop.html"
            ><i class="fas fa-store"></i><span>SHOP</span></a
          >
        </li>
        <li id="mobile-about">
          <a href="/html/about_us.html"
            ><i class="fas fa-users"></i><span>ABOUT US</span></a
          >
        </li>
        <li id="mobile-login">
          <a href="/html/Login.html"
            ><i class="fas fa-user"></i><span>LOGIN</span></a
          >
        </li>
      </ul>
    </nav>
    <!-- External JS for all navbar logic -->
<script type="module" src="../js/navbar.js"></script>

    <script src="../js/classiesearch.js"></script>
<!-- No dynamic login/profile switching needed. Profile button always visible. -->
    </script>
  </body>
</html>
